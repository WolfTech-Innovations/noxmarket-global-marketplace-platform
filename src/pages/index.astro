---
import Layout from '@/layouts/Layout.astro';
import Header from '@/components/Header.astro';
import Footer from '@/components/Footer.astro';
import ProductCard from '@/components/ProductCard.astro';
import { getProducts } from '@/lib/cosmic';
import type { Product } from '@/types';

const products = await getProducts();
const featuredProducts = products.slice(0, 8);
---

<Layout title="Nox - The PC Part Marketplace of Now and Then">
  <Header />

  <main>
    <!-- Hero Section -->
    <section class="relative overflow-hidden bg-gradient-to-br from-blue-600 via-blue-700 to-indigo-900 text-white py-24">
      <div class="absolute inset-0 bg-grid-white/[0.05] bg-[size:32px_32px]"></div>
      <div class="container-custom relative">
        <div class="max-w-4xl mx-auto text-center">
          <div class="inline-flex items-center gap-2 px-4 py-2 bg-white/10 backdrop-blur-md rounded-full mb-8 border border-white/20">
            <svg class="w-5 h-5 text-green-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0121 12c0 5.523-4.477 10-10 10S1 17.523 1 12 5.477 2 11 2c1.821 0 3.532.49 5.003 1.343" />
            </svg>
            <span class="text-sm font-medium">All parts verified & benchmarked</span>
          </div>
          
          <h1 class="text-6xl md:text-7xl font-medium tracking-tight mb-6">
            The PC Part Marketplace<br/>
            <span class="text-blue-200">of Now and Then</span>
          </h1>
          
          <p class="text-xl md:text-2xl text-blue-100 mb-12 max-w-3xl mx-auto">
            Buy and sell verified PC components with confidence. Every part tested, benchmarked, and compatibility-checked.
          </p>
          
          <div class="flex flex-col sm:flex-row gap-4 justify-center">
            <a href="/products" class="btn bg-white text-blue-600 hover:bg-blue-50 text-lg px-8 py-4">
              Browse Components
            </a>
            <a href="/become-seller" class="btn bg-blue-500 text-white hover:bg-blue-400 text-lg px-8 py-4 border-2 border-white/20">
              Start Selling
            </a>
          </div>
        </div>
      </div>
      
      <!-- Decorative elements -->
      <div class="absolute top-20 left-10 w-72 h-72 bg-blue-400 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-pulse"></div>
      <div class="absolute bottom-20 right-10 w-72 h-72 bg-indigo-400 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-pulse animation-delay-200"></div>
    </section>

    <!-- Trust Features -->
    <section class="py-20 bg-white">
      <div class="container-custom">
        <div class="grid md:grid-cols-4 gap-8">
          {[
            { icon: 'M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0121 12c0 5.523-4.477 10-10 10S1 17.523 1 12 5.477 2 11 2c1.821 0 3.532.49 5.003 1.343', title: 'Verified Testing', desc: 'Every component tested and benchmarked before listing' },
            { icon: 'M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2zM9 9h6v6H9V9z', title: 'Compatibility Check', desc: 'You can ensure parts work together by reading the products compatibility checklist' },
            { icon: 'M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z', title: 'Payment Protection', desc: 'Stripe ensures all payments are secure and easy to setup for the seller and the buyer' },
            { icon: 'M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z', title: 'Seller Reputation', desc: 'Hardware-specific ratings and verified reviews' }
          ].map(feature => (
            <div class="card-elevated p-8 text-center hover:shadow-xl motion-emphasized">
              <div class="w-16 h-16 bg-blue-100 rounded-2xl flex items-center justify-center mx-auto mb-6">
                <svg class="w-8 h-8 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d={feature.icon} />
                </svg>
              </div>
              <h3 class="text-xl font-semibold text-gray-900 mb-3">{feature.title}</h3>
              <p class="text-gray-600">{feature.desc}</p>
            </div>
          ))}
        </div>
      </div>
    </section>

    <!-- Featured Components -->
    <section class="py-20 bg-gray-50">
      <div class="container-custom">
        <div class="text-center mb-12">
          <h2 class="text-4xl md:text-5xl font-medium text-gray-900 mb-4">Featured Components</h2>
          <p class="text-xl text-gray-600">Verified, tested, and ready to ship</p>
        </div>

        {featuredProducts.length > 0 ? (
          <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-12">
            {featuredProducts.map((product: Product) => (
              <ProductCard product={product} />
            ))}
          </div>
        ) : (
          <div class="text-center py-20">
            <div class="w-20 h-20 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-6">
              <svg class="w-10 h-10 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4" />
              </svg>
            </div>
            <h3 class="text-2xl font-medium text-gray-900 mb-3">Components Coming Soon</h3>
            <p class="text-gray-600 mb-8">Be the first to list verified PC parts on Nox</p>
            <a href="/become-seller" class="btn btn-primary">
              List Your Components
            </a>
          </div>
        )}

        <div class="text-center">
          <a href="/products" class="btn btn-primary text-lg px-8">
            Browse All Components â†’
          </a>
        </div>
      </div>
    </section>

    <!-- Categories -->
    <section class="py-20 bg-white">
      <div class="container-custom">
        <h2 class="text-4xl font-medium text-gray-900 mb-12 text-center">Shop by Component Type</h2>
        
        <div class="grid grid-cols-2 md:grid-cols-4 gap-6">
          {[
            { name: 'Graphics Cards', icon: 'ðŸŽ®', color: 'from-purple-500 to-pink-500' },
            { name: 'Processors', icon: 'âš¡', color: 'from-blue-500 to-cyan-500' },
            { name: 'Motherboards', icon: 'ðŸ”§', color: 'from-green-500 to-emerald-500' },
            { name: 'Memory (RAM)', icon: 'ðŸ’¾', color: 'from-orange-500 to-red-500' },
            { name: 'Storage', icon: 'ðŸ’¿', color: 'from-indigo-500 to-purple-500' },
            { name: 'Power Supplies', icon: 'ðŸ”‹', color: 'from-yellow-500 to-orange-500' },
            { name: 'Cooling', icon: 'â„ï¸', color: 'from-cyan-500 to-blue-500' },
            { name: 'Cases', icon: 'ðŸ“¦', color: 'from-gray-600 to-gray-800' }
          ].map(category => (
            <a 
              href={`/products?category=${category.name.toLowerCase()}`}
              class={`card-elevated p-8 text-center group hover:scale-105 motion-emphasized bg-gradient-to-br ${category.color}`}
            >
              <div class="text-5xl mb-4">{category.icon}</div>
              <h3 class="text-lg font-semibold text-white">{category.name}</h3>
            </a>
          ))}
        </div>
      </div>
    </section>

    <!-- How It Works -->
    <section class="py-20 bg-gradient-to-br from-gray-50 to-blue-50">
      <div class="container-custom">
        <div class="text-center mb-16">
          <h2 class="text-4xl md:text-5xl font-medium text-gray-900 mb-4">How Nox Works</h2>
          <p class="text-xl text-gray-600">Safe, verified PC component marketplace</p>
        </div>

        <div class="grid md:grid-cols-3 gap-12 max-w-5xl mx-auto">
          {[
            { step: '1', title: 'List & Verify', desc: 'Sellers submit benchmark results and testing documentation for each component' },
            { step: '2', title: 'Check Compatibility', desc: 'Our system automatically validates component compatibility with buyer\'s build' },
            { step: '3', title: 'Secure Transaction', desc: 'Escrow protection holds payment until buyer confirms part works (30-day DOA protection)' }
          ].map(item => (
            <div class="text-center">
              <div class="w-16 h-16 bg-blue-600 text-white rounded-full flex items-center justify-center text-2xl font-bold mx-auto mb-6 elevation-3">
                {item.step}
              </div>
              <h3 class="text-xl font-semibold text-gray-900 mb-3">{item.title}</h3>
              <p class="text-gray-600">{item.desc}</p>
            </div>
          ))}
        </div>
      </div>
    </section>

    <!-- CTA Section -->
    <section class="py-20 bg-gradient-to-r from-blue-600 to-indigo-700 text-white">
      <div class="container-custom text-center">
        <h2 class="text-4xl md:text-5xl font-medium mb-6">Ready to Build or Upgrade?</h2>
        <p class="text-xl text-blue-100 mb-12 max-w-2xl mx-auto">
          Join our community of PC builders buying and selling verified components with confidence
        </p>
        <div class="flex flex-col sm:flex-row gap-4 justify-center">
          <a href="/products" class="btn bg-white text-blue-600 hover:bg-blue-50 text-lg px-8 py-4">
            Browse Components
          </a>
          <a href="/signup" class="btn bg-blue-500 text-white hover:bg-blue-400 text-lg px-8 py-4 border-2 border-white/20">
            Create Account
          </a>
        </div>
      </div>
    </section>
  </main>

  <Footer />
</Layout>

<style>
  .bg-grid-white {
    background-image: linear-gradient(to right, rgba(255, 255, 255, 0.1) 1px, transparent 1px),
                      linear-gradient(to bottom, rgba(255, 255, 255, 0.1) 1px, transparent 1px);
  }
</style>